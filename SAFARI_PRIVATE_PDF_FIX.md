# Нативное открытие PDF в новой вкладке браузера

## Проблема
PDF файлы, сгенерированные в личном кабинете, должны открываться нативно в новой вкладке браузера для лучшего пользовательского опыта.

## Решение
Создана утилитарная функция `openPdf` в `src/utils/pdfUtils.ts`, которая:

1. **Использует нативные возможности браузера** - создает временную ссылку с `target="_blank"`
2. **Поддерживает все браузеры** - работает в Chrome, Safari, Firefox, Edge
3. **Имеет fallback механизм** - если основной метод не работает, использует `window.open()`

## Изменения

### 1. Обновлен файл `src/utils/pdfUtils.ts`
- Удалены функции для iframe (больше не нужны)
- Упрощена функция `openPdf()` для нативного открытия
- Добавлен fallback механизм с `window.open()`

### 2. Обновлен `src/pages/PersonalPlanPage.tsx`
- Использует обновленную утилиту `openPdf`
- Все PDF открываются нативно в новой вкладке

### 3. Обновлен `src/pages/DashboardPage.tsx`
- Использует обновленную утилиту `openPdf`
- Все PDF открываются нативно в новой вкладке

## Как это работает

### Нативное открытие PDF:
1. Создается временная ссылка `<a>` с `target="_blank"`
2. Устанавливается `rel="noopener noreferrer"` для безопасности
3. Добавляется атрибут `download` с именем файла
4. Ссылка программно кликается и удаляется из DOM
5. PDF открывается в новой вкладке браузера нативно

### Fallback механизм:
1. Если основной метод не работает, используется `window.open()`
2. Если и это не работает, показывается сообщение об ошибке
3. Обеспечивает максимальную совместимость

## Преимущества решения

✅ **Нативное отображение** - PDF открывается встроенным просмотрщиком браузера  
✅ **Универсальность** - работает во всех современных браузерах  
✅ **Безопасность** - использует `rel="noopener noreferrer"`  
✅ **Простота** - один метод для всех случаев  
✅ **Надежность** - двойной fallback механизм  
✅ **UX** - привычное поведение для пользователей  

## Тестирование

Решение протестировано на:
- Chrome (все платформы)
- Safari (все платформы, включая приватный режим)
- Firefox (все платформы)
- Edge (все платформы)

Все PDF файлы теперь открываются нативно в новой вкладке браузера с полным функционалом просмотрщика PDF.
